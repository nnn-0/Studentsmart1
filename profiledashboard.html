<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - StudentsMart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6C5CE7;
            --primary-light: #A29BFE;
            --secondary: #00CEC9;
            --accent: #FD79A8;
            --accent-light: #FFEAA7;
            --dark: #2D3436;
            --light: #F5F6FA;
            --white: #FFFFFF;
            --success: #00B894;
            --warning: #FDCB6E;
            --danger: #E17055;
            --border-radius: 12px;
            --border-radius-lg: 20px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.15);
            --blur: blur(10px);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--light);
            overflow-x: hidden;
            padding-top: 80px;
        }

        /* Navigation - Matching Home Page Exactly */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 1rem 0;
        }

        .navbar-brand {
            flex-grow: 1;
            max-width: 400px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo {
            height: 42px;
            transition: var(--transition);
        }

        .navbar-brand:hover .logo {
            transform: rotate(8deg) scale(1.1);
        }

        /* Navigation Links */
        .navbar-nav .nav-link {
            color: var(--dark);
            font-weight: 500;
            font-size: 1rem;
            transition: var(--transition);
            position: relative;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .navbar-nav .nav-link:hover {
            background: rgba(108, 92, 231, 0.1);
            color: var(--primary);
        }

        /* Button Styles */
        .btn-outline-primary {
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 0.6rem 1.2rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-outline-primary:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .btn-primary {
            background: var(--primary);
            border: 2px solid var(--primary);
            color: var(--white);
            padding: 0.6rem 1.2rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            background: var(--primary-light);
            border-color: var(--primary-light);
        }

        /* Dropdown styles */
        .dropdown-menu {
            background: var(--white);
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            margin-top: 0.5rem;
            min-width: 200px;
        }

        .dropdown-item {
            color: var(--dark);
            padding: 0.75rem 1.5rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .dropdown-item:hover {
            background: var(--light);
            color: var(--primary);
        }

        /* Badge styles */
        .badge {
            border-radius: 50%;
            font-size: 0.7rem;
            min-width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .position-relative {
            position: relative;
        }

        .position-absolute {
            position: absolute;
        }

        .top-0 {
            top: 0;
        }

        .start-100 {
            left: 100%;
        }

        .translate-middle {
            transform: translate(-50%, -50%);
        }

        /* Profile Page Specific Styles */
        .profile-container {
            width: 100%;
            padding: 20px;
            margin: 0;
            max-width: none;
        }

        .profile-card {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            height: fit-content;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-light);
            margin-right: 1.5rem;
        }

        .profile-info h2 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .profile-stats {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            justify-content: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--dark);
            opacity: 0.7;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--dark);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-light);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .nav-pills .nav-link.active {
            background-color: var(--primary);
        }

        .nav-pills .nav-link {
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .college-change-warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .activity-item {
            padding: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .badge-primary {
            background-color: var(--primary);
        }

        /* Full height layout */
        .footer .col-md-2,
        .footer .col-md-3,
        .footer .col-md-4 {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 2rem 1.5rem;
            margin-bottom: 1rem;
            background-color: #ffffff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        /* Brand Section */
        .footer .col-md-4:first-child h5 {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.5rem !important;
            font-weight: 700;
            margin-bottom: 1rem !important;
            display: flex;
            align-items: center;
        }

        .footer .col-md-4:first-child h5 i {
            color: #8b5cf6;
            background: none;
            -webkit-text-fill-color: #8b5cf6;
            margin-right: 8px;
        }

        /* Description text */
        .footer .col-md-4:first-child p {
            color: #6b7280;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        /* About Us Button - Purple gradient */
        .footer .btn-outline-light {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            border: none;
            color: #ffffff;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .footer .btn-outline-light:hover {
            background: linear-gradient(135deg, #7c3aed, #9333ea);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        /* Section Headers */
        .footer h5.text-primary {
            color: #1f2937 !important;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem !important;
        }

        /* Navigation Links */
        .footer .list-unstyled {
            padding: 0;
            margin: 0;
        }

        .footer .list-unstyled li {
            margin-bottom: 10px;
        }

        .footer .list-unstyled li a {
            color: #6b7280 !important;
            text-decoration: none !important;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer .list-unstyled li a:hover {
            color: #374151 !important;
        }

        /* Icon colors for links */
        .footer .list-unstyled li a i {
            color: #8b5cf6;
            width: 18px;
            font-size: 0.9rem;
        }

        /* Contact Information */
        .footer .col-md-3:last-child ul li {
            color: #6b7280;
            font-size: 0.95rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer .col-md-3:last-child ul li i {
            color: #8b5cf6;
            width: 18px;
            font-size: 0.9rem;
        }

        /* Social Media Icons */
        .footer .col-md-3:last-child .mt-3 {
            margin-top: 1.5rem;
        }

        .footer .col-md-3:last-child .mt-3 a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: #f3f4f6;
            color: #6b7280;
            text-decoration: none;
            border-radius: 6px;
            margin-right: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            border: 1px solid #e5e7eb;
        }

        .footer .col-md-3:last-child .mt-3 a:hover {
            background-color: #8b5cf6;
            color: #ffffff;
            border-color: #8b5cf6;
            transform: translateY(-1px);
        }

        /* Divider */
        .footer hr {
            border: none;
            height: 1px;
            background-color: #e5e7eb;
            margin: 40px 0 25px;
            opacity: 1;
        }

        /* Bottom Copyright Section */
        .footer .row:last-child p {
            color: #9ca3af;
            font-size: 0.9rem;
            margin: 0;
        }

        .footer .text-danger {
            color: #ef4444 !important;
        }

        /* Override Bootstrap text-white class for light theme */
        .footer .text-white {
            color: #6b7280 !important;
        }

        .footer .text-white:hover {
            color: #374151 !important;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .footer {
                padding: 40px 0 20px;
            }
            
            /* Keep outline borders on mobile */
            .footer .col-md-2,
            .footer .col-md-3,
            .footer .col-md-4 {
                border: 1px solid #e9ecef;
                border-radius: 6px;
                padding: 1.5rem 1rem;
                margin-bottom: 1rem;
                background-color: #ffffff;
            }
            
            .footer .col-md-4:first-child h5 {
                font-size: 1.3rem !important;
            }
            
            .footer h5.text-primary {
                font-size: 1rem;
                margin-bottom: 1rem !important;
            }
            
            .footer .col-md-3:last-child .mt-3 a {
                width: 32px;
                height: 32px;
                font-size: 0.8rem;
            }
        }
        /* About Us Modal Styles */
        .team-modal .modal-dialog {
            max-width: 1400px;
            margin: 1rem auto;
        }

        .team-modal .modal-content {
            border: none;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            background: var(--white);
            position: relative;
        }

        /* Animated Background Pattern */
        .team-modal .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%236c5ce7" fill-opacity="0.02"><circle cx="30" cy="30" r="4"/></g></g></svg>');
            pointer-events: none;
            z-index: 1;
        }

        /* Modal Header with Enhanced Design */
        .team-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 50%, var(--accent) 100%);
            color: var(--white);
            padding: 4rem 2rem 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        .team-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .team-header-content {
            position: relative;
            z-index: 3;
        }

        .team-header-content h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .team-header-content p {
            font-size: 1.4rem;
            opacity: 0.95;
            margin: 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            background: rgba(255,255,255,0.15);
            border: none;
            color: var(--white);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            z-index: 10;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        /* Company Backing Section - Simplified */
        .company-backing {
            background: #f8f9ff;
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            border-bottom: 1px solid #e0e0e0;
            z-index: 2;
        }

        .company-content {
            position: relative;
            z-index: 3;
        }

        .backing-badge {
            display: inline-flex;
            align-items: center;
            background: #6c5ce7;
            color: #ffffff;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .mentorly-container {
            background: #ffffff;
            border-radius: 16px;
            padding: 3rem 2rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            border: 1px solid #e0e0e0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            max-width: 600px;
            margin: 0 auto;
        }

        .mentorly-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
        }

        .mentorly-logo {
            width: 200px;
            height: 200px;
            object-fit: contain;
            margin-bottom: 2rem;
            filter: drop-shadow(0 12px 35px rgba(0,0,0,0.2));
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 16px;
            background: #ffffff;
            padding: 25px;
            border: 1px solid #e0e0e0;
        }

        .mentorly-logo:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 12px 35px rgba(108, 92, 231, 0.2));
        }

        .company-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #2d3436;
        }

        .company-description {
            font-size: 1.1rem;
            color: #636e72;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        /* Team Section */
        .team-section {
            padding: 4rem 2rem 2rem;
            background: var(--white);
            position: relative;
            z-index: 2;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .section-title p {
            font-size: 1.2rem;
            color: var(--dark);
            opacity: 0.7;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-bottom: 3rem;
        }

        /* Modern Profile Cards */
        .team-member {
            background: var(--white);
            border-radius: 20px;
            padding: 0;
            text-align: left;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            height: auto;
            min-height: 400px;
        }

        /* Card Header with Gradient */
        .card-header {
            padding: 24px 24px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        /* Redesigned Avatar */
        .member-avatar {
            width: 60px;
            height: 60px;
            margin: 0;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.3);
            box-shadow: none;
            flex-shrink: 0;
        }

        .member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .profile-info {
            color: white;
            flex: 1;
        }

        .member-name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            margin: 0 0 4px 0;
            letter-spacing: -0.02em;
        }

        .member-title {
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            font-size: 0.9rem;
            margin: 0;
            text-transform: none;
            letter-spacing: normal;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Achievement Badge */
        .achievement-badge {
            background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 4px 15px rgba(0,210,255,0.3);
        }

        /* Card Body */
        .card-body {
            padding: 24px;
        }

        /* Testimonial Quote */
        .testimonial-quote {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid;
            margin-bottom: 24px;
            position: relative;
            font-style: italic;
            line-height: 1.6;
            color: var(--dark);
            opacity: 0.8;
        }

        .testimonial-quote::before {
            content: '"';
            position: absolute;
            top: -5px;
            left: 15px;
            font-size: 3rem;
            opacity: 0.2;
            font-family: serif;
        }

        /* Social Links */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1.2rem;
            margin-top: 1.5rem;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.3rem;
            position: relative;
            overflow: hidden;
        }

        .social-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: var(--transition);
            transform: translate(-50%, -50%);
        }

        .social-btn:hover::before {
            width: 60px;
            height: 60px;
        }

        .social-btn i {
            position: relative;
            z-index: 2;
        }

        .social-btn.linkedin {
            background: linear-gradient(135deg, #0077B5, #005885);
        }

        .social-btn.github {
            background: linear-gradient(135deg, #333, #000);
        }

        .social-btn.phone {
            background: linear-gradient(135deg, var(--success), #00A085);
        }

        .social-btn:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.25);
        }

        /* Different Card Themes */
        .team-member:nth-child(1) .card-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
        }

        .team-member:nth-child(1) .testimonial-quote {
            border-left-color: var(--primary);
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.05) 0%, rgba(168, 155, 254, 0.05) 100%);
        }

        .team-member:nth-child(2) .card-header {
            background: linear-gradient(135deg, var(--accent) 0%, #ff6b9d 100%);
        }

        .team-member:nth-child(2) .testimonial-quote {
            border-left-color: var(--accent);
            background: linear-gradient(135deg, rgba(253, 121, 168, 0.05) 0%, rgba(255, 107, 157, 0.05) 100%);
        }

        .team-member:nth-child(3) .card-header {
            background: linear-gradient(135deg, var(--secondary) 0%, #55efc4 100%);
        }

        .team-member:nth-child(3) .testimonial-quote {
            border-left-color: var(--secondary);
            background: linear-gradient(135deg, rgba(0, 184, 148, 0.05) 0%, rgba(85, 239, 196, 0.05) 100%);
        }

        .team-member:nth-child(4) .card-header {
            background: linear-gradient(135deg, #e17055 0%, #fdcb6e 100%);
        }

        .team-member:nth-child(4) .testimonial-quote {
            border-left-color: #e17055;
            background: linear-gradient(135deg, rgba(225, 112, 85, 0.05) 0%, rgba(253, 203, 110, 0.05) 100%);
        }

        /* Hover Effects */
        .team-member:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 48px rgba(0,0,0,0.15);
        }

        .team-member:hover .member-avatar img {
            transform: scale(1.1);
        }

        /* Enhanced Mission Section */
        .mission-section {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.03) 0%, rgba(253, 121, 168, 0.03) 100%);
            position: relative;
            z-index: 2;
        }

        .mission-card {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            background: var(--white);
            padding: 3rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(108, 92, 231, 0.1);
        }

        .mission-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 2rem;
            position: relative;
        }

        .mission-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 3px;
        }

        .mission-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--dark);
            opacity: 0.8;
            margin-bottom: 2rem;
        }

        .mission-highlight {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
            padding: 2rem 2.5rem;
            border-radius: var(--border-radius-lg);
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 2.5rem;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .mission-highlight::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 4s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        /* Enhanced Modal Footer */
        .modal-footer-custom {
            padding: 2.5rem;
            background: var(--light);
            border-top: 2px solid rgba(108, 92, 231, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1.5rem;
            z-index: 2;
            position: relative;
        }

        .btn-custom {
            padding: 1rem 2.5rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .btn-custom::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50px;
            background: rgba(255,255,255,0.2);
            transition: var(--transition);
            transform: translate(-50%, -50%);
        }

        .btn-custom:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-secondary-custom {
            background: var(--white);
            color: var(--dark);
            border: 2px solid var(--primary);
        }

        .btn-secondary-custom:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--white);
            box-shadow: var(--shadow);
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--primary-light), var(--accent));
            text-decoration: none;
            color: var(--white);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .team-modal .modal-dialog {
                margin: 0.5rem;
                max-width: calc(100vw - 1rem);
            }
            
            .team-header {
                padding: 3rem 1rem 2rem;
            }
            
            .team-header-content h2 {
                font-size: 2.5rem;
            }
            
            .team-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 0;
            }
            
            .member-avatar {
                width: 50px;
                height: 50px;
            }
            
            .member-name {
                font-size: 1.1rem;
            }
            
            .mission-section, .team-section, .company-backing {
                padding: 3rem 1rem;
            }
            
            .mission-title, .section-title h3 {
                font-size: 2rem;
            }
            
            .company-title {
                font-size: 1.6rem;
            }
            
            .mentorly-logo {
                width: 120px;
                height: 120px;
            }
            
            .modal-footer-custom {
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn-custom {
                width: 100%;
                justify-content: center;
            }
        }
        .chat-button-container {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 1050;
        }

        #chatFloatingBtn {
            background: transparent;
            border: none;
            border-radius: 50%;
            padding: 0;
            box-shadow: none;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #chatFloatingBtn:hover {
            background: transparent;
            transform: translateY(-8px) scale(1.1);
            box-shadow: none;
        }

        #chatFloatingBtn img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: contain;
            background: transparent;
            padding: 10px;
        }

        #unreadMessageCount {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Mobile Responsive Styles */
        @media screen and (max-width: 768px) {
            .chat-button-container {
                right: 15px;
                bottom: 20px;
            }
            
            #chatFloatingBtn img {
                width: 130px;
                height: 130px;
                padding: 8px;
            }
            
            #chatFloatingBtn:hover {
                transform: translateY(-4px) scale(1.05);
            }
            
            #unreadMessageCount {
                min-width: 18px;
                height: 18px;
                font-size: 0.7rem;
                top: -3px;
                right: -3px;
            }
        }

        @media screen and (max-width: 480px) {
            .chat-button-container {
                right: 10px;
                bottom: 15px;
            }
            
            #chatFloatingBtn img {
                width: 110px;
                height: 110px;
                padding: 6px;
            }
            
            #chatFloatingBtn:hover {
                transform: translateY(-3px) scale(1.03);
            }
            
            #unreadMessageCount {
                min-width: 16px;
                height: 16px;
                font-size: 0.65rem;
                top: -2px;
                right: -2px;
            }
        }

        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            #chatFloatingBtn:hover {
                transform: none;
            }
            
            #chatFloatingBtn:active {
                transform: scale(0.95);
            }
        }
        /* Modal Base Styles */
        /* Basic Modal Styles */
        .modal-content {
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-xl);
            border: none;
        }

        .modal-header {
            border-bottom: 1px solid rgba(108, 92, 231, 0.1);
            padding: 1.5rem;
        }

        .modal-logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .modal-logo {
            height: 35px;
            width: 35px;
        }

        .modal-site-name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
        }

        .create-account-text {
            text-align: center;
            flex: 1;
        }

        .modal-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .modal-body {
            padding: 2rem;
        }

        /* Form Styles */
        .form-label {
            font-weight: 500;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .form-control, .form-select {
            border: 1px solid rgba(108, 92, 231, 0.2);
            border-radius: var(--border-radius);
            padding: 0.75rem;
            transition: var(--transition);
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.2rem rgba(108, 92, 231, 0.1);
            outline: none;
        }

        .form-check {
            margin-bottom: 1rem;
        }

        .form-check-input {
            margin-right: 0.5rem;
        }

        /* Conditional Fields */
        .field-branch, .field-faculty, .field-subject, 
        .field-softcopy, .field-fileupload, 
        .field-working-condition, .field-warranty,
        .rent-field {
            display: none;
        }

        /* Terms Summary */
        .terms-summary {
            background: rgba(0, 184, 148, 0.1);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-top: 0.5rem;
        }

        .terms-summary li {
            margin-bottom: 0.5rem;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .modal-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .col-md-6 {
                width: 100%;
            }
        }
        .navbar-toggler {
            border: none;
            padding: 0.5rem;
            background: transparent;
            position: relative;
            z-index: 1001;
            display: none;
        }

        .navbar-toggler:focus {
            box-shadow: none;
            outline: none;
        }

        .navbar-toggler-icon {
            display: flex;
            flex-direction: column;
            gap: 5px;
            width: 26px;
            cursor: pointer;
            background-image: none !important;
        }

        .navbar-toggler-icon span {
            width: 26px;
            height: 3px;
            background: var(--dark);
            border-radius: 3px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: block;
        }

        /* Animated Hamburger to X */
        .navbar-toggler.active .navbar-toggler-icon span:nth-child(1) {
            transform: rotate(45deg) translate(7px, 7px);
        }

        .navbar-toggler.active .navbar-toggler-icon span:nth-child(2) {
            opacity: 0;
            transform: translateX(20px);
        }

        .navbar-toggler.active .navbar-toggler-icon span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        /* Backdrop Overlay */
        .mobile-menu-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 998;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-menu-backdrop.show {
            display: block;
            opacity: 1;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 991px) {
            /* Show hamburger */
            .navbar-toggler {
                display: flex;
            }

            /* Hide desktop auth buttons on mobile */
            #authButtons {
                display: none !important;
            }

            /* Mobile Sidebar - MORE SPACIOUS */
            #navbarNav {
                position: fixed;
                top: 0;
                right: -100%;
                width: 320px; /* Increased from 280px */
                max-width: 85vw;
                height: 100vh;
                background: var(--white);
                box-shadow: -5px 0 30px rgba(0, 0, 0, 0.2);
                transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                z-index: 999;
                overflow-y: auto;
                display: flex !important;
                flex-direction: column;
                padding: 0;
            }

            #navbarNav.show {
                right: 0;
            }

            /* Mobile Menu Header - MORE SPACIOUS */
            .mobile-menu-header {
                background: linear-gradient(135deg, #6C5CE7 0%, #A29BFE 100%);
                padding: 1.75rem 1.25rem; /* Increased padding */
                color: var(--white);
                display: flex;
                flex-direction: column;
                gap: 1rem; /* Increased gap */
                box-shadow: 0 2px 10px rgba(108, 92, 231, 0.2);
                flex-shrink: 0;
            }

            .mobile-menu-close {
                align-self: flex-end;
                background: rgba(255, 255, 255, 0.2);
                border: none;
                color: var(--white);
                width: 36px; /* Slightly bigger */
                height: 36px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: var(--transition);
                font-size: 1.2rem;
                padding: 0;
                margin: 0;
            }

            .mobile-menu-close:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: rotate(90deg);
            }

            /* User Profile Section - MORE SPACIOUS */
            .mobile-user-section {
                display: flex;
                align-items: center;
                gap: 1rem; /* Increased gap */
                background: rgba(255, 255, 255, 0.15);
                backdrop-filter: blur(10px);
                padding: 1rem; /* Increased padding */
                border-radius: 12px;
            }

            .mobile-user-avatar {
                width: 50px; /* Increased from 42px */
                height: 50px;
                min-width: 50px;
                border-radius: 50%;
                background: var(--white);
                color: var(--primary);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.4rem; /* Larger text */
                font-weight: 700;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .mobile-user-info {
                flex: 1;
                overflow: hidden;
            }

            .mobile-user-name {
                font-weight: 600;
                font-size: 1rem; /* Slightly bigger */
                margin-bottom: 0.2rem;
                color: var(--white);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .mobile-user-email {
                font-size: 0.8rem;
                opacity: 0.9;
                color: var(--white);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* Auth Buttons - MORE SPACIOUS */
            .mobile-auth-section {
                display: flex;
                flex-direction: column;
                gap: 0.75rem; /* Increased gap */
            }

            .mobile-auth-section .btn {
                width: 100%;
                padding: 0.85rem; /* Increased padding */
                border-radius: 10px;
                font-weight: 600;
                font-size: 0.9rem; /* Slightly bigger */
                transition: var(--transition);
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
            }

            .mobile-auth-section .btn-outline-primary {
                background: rgba(255, 255, 255, 0.15);
                border: 2px solid var(--white);
                color: var(--white);
            }

            .mobile-auth-section .btn-outline-primary:hover {
                background: rgba(255, 255, 255, 0.25);
            }

            .mobile-auth-section .btn-primary {
                background: var(--white);
                color: var(--primary);
                border: none;
            }

            .mobile-auth-section .btn-primary:hover {
                box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
            }

            /* Navigation List - MORE SPACIOUS */
            .navbar-nav {
                padding: 1rem 0; /* Increased padding */
                flex-direction: column;
                gap: 0;
                margin: 0;
                flex: 1;
                overflow-y: auto;
            }

            .nav-item {
                margin: 0;
                border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            }

            .nav-item:last-child {
                border-bottom: none;
            }

            .nav-link {
                display: flex;
                align-items: center;
                gap: 1rem; /* Increased gap */
                padding: 1.15rem 1.25rem; /* More padding */
                color: var(--dark);
                font-weight: 500;
                font-size: 0.95rem; /* Slightly bigger */
                transition: var(--transition);
                position: relative;
                text-decoration: none;
            }

            .nav-link::before {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                width: 0;
                background: var(--primary);
                transition: width 0.3s ease;
            }

            .nav-link:hover,
            .nav-link:active {
                background: rgba(108, 92, 231, 0.08);
                color: var(--primary);
                text-decoration: none;
            }

            .nav-link:hover::before {
                width: 4px; /* Thicker line */
            }

            .nav-link i {
                font-size: 1.2rem; /* Bigger icons */
                width: 24px;
                text-align: center;
                transition: var(--transition);
            }

            .nav-link:hover i {
                transform: scale(1.15);
            }

            /* Badge Styling */
            .nav-link .badge,
            #navReportsBadge {
                margin-left: auto;
                background: var(--danger);
                color: var(--white);
                padding: 0.3rem 0.6rem; /* More padding */
                border-radius: 12px;
                font-size: 0.7rem;
                font-weight: 700;
            }

            /* Notification Badge */
            #notificationBadge {
                position: static !important;
                transform: none !important;
                margin-left: auto;
            }

            /* Dropdown Menu - MORE SPACIOUS */
            .nav-item.dropdown .dropdown-toggle::after {
                margin-left: auto;
                transition: transform 0.3s ease;
            }

            .dropdown-menu {
                position: static !important;
                transform: none !important;
                border: none;
                background: #f8f9fa;
                box-shadow: none;
                margin: 0;
                padding: 0.5rem 0; /* More padding */
                border-radius: 0;
            }

            .dropdown-item {
                padding: 1rem 1.25rem 1rem 3rem; /* More padding */
                color: var(--dark);
                font-size: 0.9rem; /* Slightly bigger */
                transition: var(--transition);
                position: relative;
            }

            .dropdown-item::before {
                content: '';
                position: absolute;
                left: 2rem;
                top: 50%;
                transform: translateY(-50%);
                color: var(--primary);
                opacity: 0;
                transition: var(--transition);
                font-size: 1.1rem;
            }

            .dropdown-item:hover {
                background: rgba(108, 92, 231, 0.08);
                color: var(--primary);
            }

            .dropdown-item:hover::before {
                opacity: 1;
            }

            .dropdown-item i {
                margin-right: 0.75rem;
                width: 18px;
                text-align: center;
                font-size: 0.9rem;
            }

            .dropdown-divider {
                margin: 0.5rem 1.25rem; /* More margin */
                opacity: 0.5;
            }

            /* Scrollbar */
            #navbarNav::-webkit-scrollbar {
                width: 4px; /* Slightly thicker */
            }

            #navbarNav::-webkit-scrollbar-thumb {
                background: rgba(108, 92, 231, 0.3);
                border-radius: 4px;
            }
        }

        /* Tablet Adjustments */
        @media (max-width: 768px) {
            #navbarNav {
                width: 300px;
            }
        }

        /* Small Mobile */
        @media (max-width: 480px) {
            #navbarNav {
                width: 280px;
            }

            .mobile-menu-header {
                padding: 1.5rem 1rem;
            }

            .nav-link {
                padding: 1rem 1rem;
                font-size: 0.9rem;
            }
        }

        /* Prevent body scroll */
        body.menu-open {
            overflow: hidden;
        }
        

    </style>
</head>
<body>
    <!-- Navigation - Matching Home Page Structure -->
   <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/" style="flex-grow: 1; max-width: 400px;">
                <div class="logo-container">
                    <img src="https://i.ibb.co/Z05RbY8/logo-removebg-preview-5.png"
                        alt="StudentsMart - Learn.Sell.Repeat" 
                        class="logo">
                </div>
            </a>
            
            <!-- UPDATED: Modern Hamburger Button -->
            <button class="navbar-toggler" type="button" onclick="toggleMobileMenu()">
                <div class="navbar-toggler-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            
            <!-- UPDATED: Mobile Menu with Header -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Mobile Menu Header (Only visible on mobile) -->
                

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fas fa-home me-2"></i>Home
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="handlePathSelection('sell')">
                            <i class="fas fa-plus me-2"></i>Create Listing
                        </a>
                    </li>
                    
                    <li class="nav-item"><a class="nav-link" href="books.html"><i class="fas fa-book me-2"></i>Books</a></li>
                    <li class="nav-item"><a class="nav-link" href="electronics.html"><i class="fas fa-laptop me-2"></i>Electronics</a></li>
                    <li class="nav-item"><a class="nav-link" href="clothes.html"><i class="fas fa-tshirt me-2"></i>Clothes</a></li>
                                        
                    <li class="nav-item dropdown d-none" id="adminMenu">
                        <a class="nav-link" href="#" onclick="showAdminDashboard()">
                            <i class="fas fa-tools me-2"></i>Admin Dashboard
                        </a>
                    </li>
                    <li class="nav-item d-none" id="reportsMenu">
                        <a class="nav-link" href="#" onclick="showAdminDashboard('reports')">
                            <i class="fas fa-flag me-2"></i>Reports
                            <span class="badge bg-danger" id="navReportsBadge">0</span>
                        </a>
                    </li>
                    <li class="nav-item" id="authButtons">
                        <button class="btn btn-outline-primary me-2" onclick="showLoginModal()">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>
                        <button class="btn btn-primary" onclick="showRegisterModal()">
                            <i class="fas fa-user-plus me-2"></i>Register
                        </button>
                    </li>
                    <li class="nav-item d-none" id="notificationMenu">
                        <a class="nav-link position-relative" href="/notifications">
                            <i class="fas fa-bell"></i>
                            <span id="notificationBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="display: none;">
                                0
                            </span>
                            Notifications
                        </a>
                    </li>
                    <li class="nav-item dropdown d-none" id="userMenu">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle me-2"></i><span id="userName"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick="showMyListings()">
                                <i class="fas fa-list me-2"></i>My Listings
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="showWishlist()">
                                <i class="fas fa-heart me-2"></i>Wishlist
                            </a></li>
                        
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="profile-container">
        <div class="row full-height-row">
            <!-- Sidebar Navigation -->
            <div class="col-md-3 mb-4 sidebar-col">
                <div class="profile-card h-100">
                    <div class="profile-header">
                        <img src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=400" 
                             alt="Profile" class="profile-avatar" id="profileAvatar">
                        <div class="profile-info">
                            <h2 id="profileName">Ram</h2>
                            <p class="text-muted" id="profileCollege">Vemu Institute of Technology</p>
                        </div>
                    </div>

                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist">
                        <button class="nav-link active" id="profile-tab" data-bs-toggle="pill" data-bs-target="#profile" type="button">
                            <i class="fas fa-user me-2"></i>Profile Details
                        </button>
                        <button class="nav-link" id="college-tab" data-bs-toggle="pill" data-bs-target="#college" type="button">
                            <i class="fas fa-university me-2"></i>College Settings
                        </button>
                        <button class="nav-link" id="security-tab" data-bs-toggle="pill" data-bs-target="#security" type="button">
                            <i class="fas fa-shield-alt me-2"></i>Security
                        </button>
                        <button class="nav-link" id="activity-tab" data-bs-toggle="pill" data-bs-target="#activity" type="button">
                            <i class="fas fa-history me-2"></i>Recent Activity
                        </button>
                    </div>

                    <div class="profile-stats mt-4">
                        <div class="stat-item">
                            <div class="stat-number" id="listingsCount">0</div>
                            <div class="stat-label">Listings</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="wishlistCount">1</div>
                            <div class="stat-label">Wishlist</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 main-content-col">
                <div class="tab-content h-100" id="v-pills-tabContent">
                    <!-- Profile Details Tab -->
                    <div class="tab-pane fade show active" id="profile">
                        <div class="profile-card h-100">
                            <h3 class="section-title">Profile Information</h3>
                            <form id="profileForm">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" class="form-control" id="fullName" name="full_name" value="Ram" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="email" value="charan06052205@gmail.com" disabled>
                                            <small class="text-muted">Email cannot be changed</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Department</label>
                                            <input type="text" class="form-control" id="department" name="department" value="cse">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Year</label>
                                            <select class="form-select" id="year" name="year">
                                                <option value="1">1st Year</option>
                                                <option value="2">2nd Year</option>
                                                <option value="3">3rd Year</option>
                                                <option value="4" selected>4th Year</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Roll Number (Optional)</label>
                                            <input type="text" class="form-control" id="rollNumber" name="roll_number">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="form-label">Profile Picture</label>
                                            <input type="file" class="form-control" id="profilePicture" accept="image/*">
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save me-2"></i>Save Changes
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- College Settings Tab -->
                    <!-- College Settings Tab -->
                    <div class="tab-pane fade" id="college">
                        <div class="profile-card h-100">
                            <h3 class="section-title">College Information</h3>
                            
                            <div class="college-change-warning">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <strong>Important:</strong> Changing your college requires verification with your new college ID proof. 
                                You'll need to submit a clear image of your new college ID card or admission letter.
                                This process may take 1-2 business days.
                            </div>
                            
                            <!-- Current College Info -->
                            <div class="card mb-4">
                                <div class="card-body">
                                    <h5 class="card-title">Current College</h5>
                                    <p class="card-text" id="currentCollegeDisplay">Vemu Institute of Technology</p>
                                </div>
                            </div>
                            
                            <!-- Request Status Display -->
                            <div id="requestStatus" class="alert alert-info d-none">
                                <i class="fas fa-info-circle me-2"></i>
                                <span id="statusMessage"></span>
                            </div>
                            
                            <!-- College Change Form -->
                            <form id="collegeChangeForm" class="needs-validation" novalidate>
                                <div class="form-group mb-3">
                                    <label class="form-label">New College *</label>
                                    <select class="form-select" id="newCollege" name="new_college" required>
                                        <option value="">Select your new college</option>
                                        <option value="Indian Institute of Technology (IIT)">Indian Institute of Technology (IIT)</option>
                                        <option value="Indian Institute of Science (IISc)">Indian Institute of Science (IISc)</option>
                                        <option value="National Institute of Technology (NIT)">National Institute of Technology (NIT)</option>
                                        <option value="Indian Institute of Information Technology (IIIT)">Indian Institute of Information Technology (IIIT)</option>
                                        <option value="Delhi University">Delhi University</option>
                                        <option value="Jawaharlal Nehru University">Jawaharlal Nehru University</option>
                                        <option value="University of Mumbai">University of Mumbai</option>
                                        <option value="Anna University">Anna University</option>
                                        <option value="Osmania University">Osmania University</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <div class="invalid-feedback">Please select a college</div>
                                </div>
                                
                                <div class="form-group mb-3">
                                    <label class="form-label">Reason for Change *</label>
                                    <textarea class="form-control" id="changeReason" name="reason" rows="3" 
                                            placeholder="Please explain why you want to change colleges..." required></textarea>
                                    <div class="invalid-feedback">Please provide a reason for the college change</div>
                                </div>
                                
                                <div class="form-group mb-3">
                                    <label class="form-label">New College ID Proof *</label>
                                    <input type="file" class="form-control" id="newCollegeProof" 
                                        name="new_college_proof" accept="image/*,.pdf" required>
                                    <div class="form-text">
                                        Upload a clear image of your new college ID card, admission letter, or enrollment certificate
                                    </div>
                                    <div class="invalid-feedback">Please upload your new college ID proof</div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="understandConsequences" required>
                                    <label class="form-check-label" for="understandConsequences">
                                        I understand that changing my college will affect the visibility of my current listings 
                                        and requires verification by the StudentsMart team.
                                    </label>
                                    <div class="invalid-feedback">You must acknowledge this before submitting</div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary" id="submitRequestBtn">
                                    <i class="fas fa-paper-plane me-2"></i>Submit Change Request
                                </button>
                            </form>
                        </div>
                    </div>


                    <!-- Security Tab -->
                    <div class="tab-pane fade" id="security">
                        <div class="profile-card h-100">
                            <h3 class="section-title">Security Settings</h3>
                            
                            <form id="passwordForm">
                                <div class="form-group">
                                    <label class="form-label">Current Password</label>
                                    <input type="password" class="form-control" name="current_password" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">New Password</label>
                                    <input type="password" class="form-control" name="new_password" required minlength="6">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" name="confirm_password" required minlength="6">
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-key me-2"></i>Change Password
                                </button>
                            </form>
                            
                            <hr class="my-4">
                            
                            <h4 class="mb-3">Login Activity</h4>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Date & Time</th>
                                            <th>Device</th>
                                            <th>Location</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="loginActivity">
                                        <tr>
                                            <td>Dec 19, 2024 10:30 AM</td>
                                            <td>Chrome, Windows</td>
                                            <td>Hyderabad, IN</td>
                                            <td><span class="badge bg-success">Success</span></td>
                                        </tr>
                                        <tr>
                                            <td>Dec 18, 2024 2:15 PM</td>
                                            <td>Firefox, Android</td>
                                            <td>Bangalore, IN</td>
                                            <td><span class="badge bg-success">Success</span></td>
                                        </tr>
                                        <tr>
                                            <td>Dec 17, 2024 8:45 PM</td>
                                            <td>Safari, macOS</td>
                                            <td>Chennai, IN</td>
                                            <td><span class="badge bg-danger">Failed</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Tab -->
                    <div class="tab-pane fade" id="activity">
                        <div class="profile-card h-100">
                            <h3 class="section-title">Recent Activity</h3>
                            
                            <div id="activityTimeline">
                                <div class="activity-item">
                                    <div class="d-flex">
                                        <div class="me-3">
                                            <i class="fas fa-plus-circle fa-lg text-success"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-1">You created a new listing: "Engineering Mathematics Textbook"</p>
                                            <small class="text-muted">2 hours ago</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="d-flex">
                                        <div class="me-3">
                                            <i class="fas fa-comment fa-lg text-primary"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-1">You received a new message about your calculator listing</p>
                                            <small class="text-muted">1 day ago</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="d-flex">
                                        <div class="me-3">
                                            <i class="fas fa-heart fa-lg text-danger"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-1">You added "Scientific Calculator" to your wishlist</p>
                                            <small class="text-muted">2 days ago</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="d-flex">
                                        <div class="me-3">
                                            <i class="fas fa-shopping-cart fa-lg text-success"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-1">Your textbook was marked as sold to Rahul Sharma</p>
                                            <small class="text-muted">3 days ago</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Floating Chat Button -->
    <div class="chat-button-container">
        <button id="chatFloatingBtn" onclick="showChatModal()" title="Open Chat">
            <img src="https://i.ibb.co/8gwcF4q4/chat-removebg-preview.png" alt="Chat" />
            <span id="unreadMessageCount" style="display: none;">0</span>
        </button>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- About Us Column -->
                <div class="col-md-4 mb-4">
                    <h5 class="text-primary mb-3">
                        <i class="fas fa-graduation-cap me-2"></i>StudentsMart
                    </h5>
                    <p>The fastest campus marketplace,connecting students to buy, sell, and rent college essentials.</p>
                    <button class="btn btn-outline-light btn-sm" onclick="showAboutUs()">
                        <i class="fas fa-info-circle me-1"></i>About Us
                    </button>
                </div>
                
                <!-- Quick Links Column -->
                <div class="col-md-2 mb-4">
                    <h5 class="text-primary mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="handlePathSelection('buy')"><i class="fas fa-shopping-cart me-2"></i>Buy Items</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="handlePathSelection('sell')"><i class="fas fa-store me-2"></i>Sell/Rent</a></li>
                       
                    </ul>
                </div>
                
                <!-- Help & Support Column -->
                <div class="col-md-3 mb-4">
                    <h5 class="text-primary mb-3">Help & Support</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="ShowFAQPageModal()"><i class="fas fa-question-circle me-2"></i>FAQs</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="showContactModal()"><i class="fas fa-headset me-2"></i>Contact Us</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="showTermsModal()"><i class="fas fa-file-contract me-2"></i>Terms</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none" onclick="showPrivacyModal()"><i class="fas fa-shield-alt me-2"></i>Privacy</a></li>
                    </ul>
                </div>
                
                <!-- Contact Column -->
                <div class="col-md-3 mb-4">
                    <h5 class="text-primary mb-3">Contact Us</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i>stud.studentsmart@gmail.com</li>
                        <li class="mb-2"><i class="fas fa-phone me-2"></i> +91 8500707175</li>
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i> Andhra Pradesh</li>
                    </ul>
                    <div class="mt-3">
                        <a href="https://www.facebook.com/share/17dR5Zg2n9/?mibextid=qi2Omg" class="text-white me-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/edutrade_official?igsh=bzVwb2Z2b2wxczBl" class="text-white me-2"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4 bg-secondary">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0">&copy; 2025 StudentsMart. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0">Made with <i class="fas fa-heart text-danger"></i> by Team StudentsMart</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- About Us Modal -->
    <!-- About Us Modal -->
    <!-- About Us Modal -->
    <!-- About Us Modal -->
    <!-- About Us Modal -->
        <div class="modal fade team-modal" id="aboutUsModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <!-- Header -->
                <div class="team-header">
                    <button type="button" class="close-btn" data-bs-dismiss="modal">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="team-header-content">
                        <h2>Meet Our Team</h2>
                        <p>The passionate minds behind StudentsMart</p>
                    </div>
                </div>
                
                <!-- Team Section -->
                <div class="team-section">
                    <div class="section-title">
                        <h3>Our Core Team</h3>
                        <p>Meet the dedicated individuals making StudentsMart possible</p>
                    </div>
                    
                    <div class="team-grid">
                        <!-- Likith -->
                        <div class="team-member">
                            <div class="card-header">
                                <div class="profile-section">
                                    <div class="member-avatar">
                                        <img src="https://i.ibb.co/v66xv1HX/likith.jpg" alt="Likith">
                                    </div>
                                    <div class="profile-info">
                                        <h4 class="member-name">LIKITH</h4>
                                        <p class="member-title">
                                            <i class="fas fa-graduation-cap me-1"></i>Co-Founder & Visionary, Ram Chandra College
                                        </p>
                                    </div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fas fa-lightbulb me-1"></i>
                                    Innovative Thinking
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="testimonial-quote">
                                    The visionary who identified the student problem and proposed the concept of a college marketplace. His innovative thinking laid the foundation for StudentsMart.
                                </div>
                                <div class="social-links">
                                    <a href="https://www.linkedin.com/in/likith-kanigolla-66740a307" class="social-btn linkedin" title="LinkedIn">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    <a href="https://github.com/likithkanigolla" class="social-btn github" title="GitHub">
                                        <i class="fab fa-github"></i>
                                    </a>
                                    <a href="tel:+918179373099" class="social-btn phone" title="Phone">
                                        <i class="fas fa-phone"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="card-header">
                                <div class="profile-section">
                                    <div class="member-avatar">
                                        <img src="https://i.ibb.co/8L2PJS2L/rctr.jpg" alt="Ram Charan Teja">
                                    </div>
                                    <div class="profile-info">
                                        <h4 class="member-name">RAM CHARAN TEJA</h4>
                                        <p class="member-title">
                                            <i class="fas fa-laptop-code me-1"></i>Tech Lead & Co-Founder, VEMU College
                                        </p>
                                    </div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fas fa-code me-1"></i>
                                    Technical Excellence
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="testimonial-quote">
                                    The technical mastermind behind StudentsMart who built the platform from scratch. A computer science student with expertise in Python, AI, and web development, turning innovative ideas into reality.
                                </div>
                                <div class="social-links">
                                    <a href="https://www.linkedin.com/in/n-l-ram-charan-teja-ba2b25288/" class="social-btn linkedin" title="LinkedIn">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    <a href="https://github.com/RamCharanTeja-22" class="social-btn github" title="GitHub">
                                        <i class="fab fa-github"></i>
                                    </a>
                                    <a href="tel:+919177415501" class="social-btn phone" title="Phone">
                                        <i class="fas fa-phone"></i>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Jyothiraj Sagar -->
                        <div class="team-member">
                            <div class="card-header">
                                <div class="profile-section">
                                    <div class="member-avatar">
                                        <img src="https://i.ibb.co/Z1h8TKBn/In-Shot-20250722-145116183.jpg" alt="Jyothiraj Sagar">
                                    </div>
                                    <div class="profile-info">
                                        <h4 class="member-name">JYOTHIRAJ SAGAR</h4>
                                        <p class="member-title">
                                            <i class="fas fa-paint-brush me-1"></i>Marketing Lead & Brand Designer
                                        </p>
                                    </div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fas fa-palette me-1"></i>
                                    Creative Excellence
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="testimonial-quote">
                                    The creative mind behind StudentsMart's branding and visual identity. Led the design of the official logo and drives marketing efforts with expertise in creative direction and content creation.
                                </div>
                                <div class="social-links">
                                    <a href="https://www.linkedin.com/in/jyothi-raj-sagar-a4b800319" class="social-btn linkedin" title="LinkedIn">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    <a href="https://github.com/Jyothirajsagar" class="social-btn github" title="GitHub">
                                        <i class="fab fa-github"></i>
                                    </a>
                                    <a href="tel:+919391629911" class="social-btn phone" title="Phone">
                                        <i class="fas fa-phone"></i>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Shantha -->
                        <div class="team-member">
                            <div class="card-header">
                                <div class="profile-section">
                                    <div class="member-avatar">
                                        <img src="https://i.ibb.co/3Y800nbG/1753193856575.jpg" alt="Shantha">
                                    </div>
                                    <div class="profile-info">
                                        <h4 class="member-name">SHANTHA</h4>
                                        <p class="member-title">
                                            <i class="fas fa-pen-fancy me-1"></i>Marketing Team & Content Creator
                                        </p>
                                    </div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fas fa-edit me-1"></i>
                                    Content Mastery
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="testimonial-quote">
                                    Strong pillar of the marketing team, writing clear and creative scripts for promotions. Plays a key role in making ideas come alive with exceptional teamwork and consistent efforts.
                                </div>
                                <div class="social-links">
                                    <a href="https://www.linkedin.com/in/shantha-k-9572402b4" class="social-btn linkedin" title="LinkedIn">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    <a href="https://github.com/Shanthakothandaraman/" class="social-btn github" title="GitHub">
                                        <i class="fab fa-github"></i>
                                    </a>
                                    <a href="tel:+917780490015" class="social-btn phone" title="Phone">
                                        <i class="fas fa-phone"></i>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Ram Charan Teja -->
                        
                    </div>
                </div>
                <div class="company-backing">
                    <div class="company-content">
                        <div class="backing-badge">
                            <i class="fas fa-shield-alt me-2"></i>
                            Proudly Backed By
                        </div>
                        
                        <div class="mentorly-container">
                            <img src="https://i.ibb.co/CXPFhwY/OP.png" class="mentorly-logo" alt="Mentorly Logo">
                            <h4 class="company-title">Mentorly</h4>
                            <p class="company-description">
                                StudentsMart is proudly backed by Mentorly, a leading platform dedicated to empowering 
                                student entrepreneurs and innovative educational solutions.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Mission Section -->
                <div class="mission-section">
                    <div class="mission-card">
                        <h3 class="mission-title">Our Story & Mission</h3>
                        <p class="mission-text">
                            At StudentsMart, we believe in the power of connection. Our platform was born from a student 
                            problem identified by Likith from Ram Chandra college, which was then developed into a 
                            full-fledged platform with innovative solutions.
                        </p>
                        <p class="mission-text">
                            Together with our amazing team of Jyothiraj Sagar, Shantha, and Ram Charan Teja, we've built something special - 
                            a platform that truly understands student needs and bridges the gap between different colleges.
                        </p>
                        <div class="mission-highlight">
                            <i class="fas fa-heart me-2"></i>
                            Connecting students. Sharing resources. Building community.
                        </div>
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="modal-footer-custom">
                    <button type="button" class="btn btn-secondary-custom btn-custom" data-bs-dismiss="modal">
                        <i class="fas fa-arrow-left me-2"></i>Close
                    </button>
                    <a href="tel:+918500707175" class="btn btn-primary-custom btn-custom">
                        <i class="fas fa-phone me-2"></i>+91 8500707175
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- Contact Modal -->
    <!-- Contact Modal -->
    <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="contactModalLabel">
                        <i class="fas fa-envelope me-2"></i>Contact Us
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Contact Methods -->
                    <div class="d-flex justify-content-around mb-4">
                        <a href="mailto:contactstudentsmart@gmail.com" class="text-decoration-none text-center">
                            <div class="bg-light p-3 rounded-circle mb-2">
                                <i class="fas fa-envelope fa-2x text-primary"></i>
                            </div>
                            <span class="d-block">Email</span>
                        </a>
                        <a href="tel:+918500707175" class="text-decoration-none text-center">
                            <div class="bg-light p-3 rounded-circle mb-2">
                                <i class="fas fa-phone fa-2x text-primary"></i>
                            </div>
                            <span class="d-block">Call</span>
                        </a>
                        <a href="https://wa.me/918500707175" target="_blank" class="text-decoration-none text-center">
                            <div class="bg-light p-3 rounded-circle mb-2">
                                <i class="fab fa-whatsapp fa-2x text-primary"></i>
                            </div>
                            <span class="d-block">WhatsApp</span>
                        </a>
                    </div>
                    
                    <hr class="my-4">
                    
                    <!-- Contact Form -->
                    <form id="contactForm" class="needs-validation" novalidate>
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Full Name</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                                <input type="text" class="form-control" id="contactName" name="name" placeholder="Enter your name" required>
                                <div class="invalid-feedback">
                                    Please provide your name.
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Email Address</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-at"></i></span>
                                <input type="email" class="form-control" id="contactEmail" name="email" placeholder="Enter your email" required>
                                <div class="invalid-feedback">
                                    Please provide a valid email address.
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="contactSubject" class="form-label">Subject</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-heading"></i></span>
                                <input type="text" class="form-control" id="contactSubject" name="subject" placeholder="Enter subject" required>
                                <div class="invalid-feedback">
                                    Please provide a subject.
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="contactMessage" class="form-label">Message</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-comment-alt"></i></span>
                                <textarea class="form-control" id="contactMessage" name="message" rows="4" placeholder="Enter your message" required></textarea>
                                <div class="invalid-feedback">
                                    Please enter your message.
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-paper-plane me-2"></i>Send Message
                            </button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer bg-light">
                    <p class="small text-muted mb-0">We'll get back to you within 24 hours.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Terms Modal -->
    <!-- Terms of Service Modal -->
    <!-- Terms Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="termsModalLabel">
                        <i class="fas fa-file-contract me-2"></i>StudentsMart Terms of Service
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                
                <div class="modal-body">
                    <!-- Header Section -->
                    <div class="text-center mb-4">
                        <h4>StudentsMart Marketplace Terms</h4>
                        <p class="text-muted">Last Updated: June 2024</p>
                        <div class="alert alert-danger">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Important:</strong> Violations may result in permanent account suspension
                        </div>
                    </div>

                    <!-- 1. Acceptance of Terms -->
                    <div class="term-section mb-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-signature me-2 text-primary"></i>1. Acceptance of Terms
                                </h5>
                            </div>
                            <div class="card-body">
                                <p>By using StudentsMart, you agree to these Terms and all applicable laws. If you don't agree, you may not use our services.</p>
                                <div class="alert alert-warning">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Student Responsibility:</strong> You are responsible for all activities under your account.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Marketplace Rules -->
                    <div class="term-section mb-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-gavel me-2 text-primary"></i>2. Marketplace Rules
                                </h5>
                            </div>
                            <div class="card-body">
                                <h6 class="text-primary"><i class="fas fa-list-check me-2"></i>Listing Requirements</h6>
                                <ul class="fa-ul">
                                    <li><span class="fa-li"><i class="fas fa-check text-success"></i></span>All listings must be accurate and truthful</li>
                                    <li><span class="fa-li"><i class="fas fa-check text-success"></i></span>You must own or have rights to sell the items</li>
                                    <li><span class="fa-li"><i class="fas fa-check text-success"></i></span>Prices must be fair (no price gouging)</li>
                                    <li><span class="fa-li"><i class="fas fa-check text-success"></i></span>Digital content must be legally obtained</li>
                                </ul>

                                <h6 class="text-primary mt-4"><i class="fas fa-ban me-2"></i>Prohibited Actions</h6>
                                <ul class="fa-ul">
                                    <li><span class="fa-li"><i class="fas fa-times text-danger"></i></span>No fake/misleading listings (instant ban)</li>
                                    <li><span class="fa-li"><i class="fas fa-times text-danger"></i></span>No academic dishonesty (selling exams/assignments)</li>
                                    <li><span class="fa-li"><i class="fas fa-times text-danger"></i></span>No harassment or discrimination</li>
                                    <li><span class="fa-li"><i class="fas fa-times text-danger"></i></span>No spam or commercial advertising</li>
                                </ul>

                                <div class="alert alert-danger mt-3">
                                    <i class="fas fa-skull-crossbones me-2"></i>
                                    <strong>Zero Tolerance:</strong> Academic cheating services will result in permanent ban and reporting to your institution.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Privacy & Conduct -->
                    <div class="term-section mb-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-user-shield me-2 text-primary"></i>3. Privacy & Conduct
                                </h5>
                            </div>
                            <div class="card-body">
                                <h6 class="text-primary"><i class="fas fa-handshake me-2"></i>Community Standards</h6>
                                <ul>
                                    <li>Keep all communications within StudentsMart</li>
                                    <li>Never share personal contact information in listings</li>
                                    <li>Report suspicious activity immediately</li>
                                    <li>Meet in public spaces for exchanges</li>
                                </ul>

                                <div class="alert alert-info mt-3">
                                    <i class="fas fa-lightbulb me-2"></i>
                                    <strong>Safety Tip:</strong> Use our messaging system for all communications to stay protected.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Account Termination -->
                    <div class="term-section mb-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-user-slash me-2 text-primary"></i>4. Account Termination
                                </h5>
                            </div>
                            <div class="card-body">
                                <p>We may suspend or terminate your account immediately if you:</p>
                                <ul class="fa-ul">
                                    <li><span class="fa-li"><i class="fas fa-hammer text-danger"></i></span>Violate these Terms</li>
                                    <li><span class="fa-li"><i class="fas fa-hammer text-danger"></i></span>Harm other users</li>
                                    <li><span class="fa-li"><i class="fas fa-hammer text-danger"></i></span>Attempt to bypass our systems</li>
                                </ul>
                                <p class="mt-3"><strong>Note:</strong> Permanent bans may include device blocking and reporting to your college administration for serious violations.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Dispute Resolution -->
                    <div class="term-section mb-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-balance-scale me-2 text-primary"></i>5. Dispute Resolution
                                </h5>
                            </div>
                            <div class="card-body">
                                <h6 class="text-primary"><i class="fas fa-flag me-2"></i>Reporting Issues</h6>
                                <p>If you have a problem with another user:</p>
                                <ol>
                                    <li>Use our <strong>Report</strong> button immediately</li>
                                    <li>Provide evidence (screenshots, etc.)</li>
                                    <li>Our team will investigate within 48 hours</li>
                                </ol>
                                <div class="alert alert-warning mt-3">
                                    <i class="fas fa-exclamation-circle me-2"></i>
                                    StudentsMart acts as a platform only - we're not responsible for transactions between users.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Final Acknowledgement -->
                    <div class="alert alert-dark">
                        <div class="d-flex">
                            <div class="me-3">
                                <i class="fas fa-signature fa-2x text-primary"></i>
                            </div>
                            <div>
                                <h5 class="alert-heading">Your Agreement</h5>
                                <p>By using StudentsMart, you confirm that:</p>
                                <ul class="mb-0">
                                    <li>You're currently enrolled at a recognized educational institution</li>
                                    <li>You'll maintain academic integrity</li>
                                    <li>You've read and accept these Terms</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-2"></i>Close
                    </button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                        <i class="fas fa-check me-2"></i>I Understand
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <h2 class="mb-3">StudentsMart Privacy Policy</h2>
                        <p class="text-muted mb-4">Last Updated: April, 2025</p>
                        
                        <!-- Table of Contents -->
                        <div class="card bg-light mb-4">
                            <div class="card-body">
                                <h6 class="card-title">Contents</h6>
                                <ul class="list-unstyled">
                                    <li><a href="#information-collected">1. Information We Collect</a></li>
                                    <li><a href="#information-use">2. How We Use Your Information</a></li>
                                    <li><a href="#information-sharing">3. Information Sharing</a></li>
                                    <li><a href="#data-security">4. Data Security</a></li>
                                    <li><a href="#your-choices">5. Your Choices</a></li>
                                    <li><a href="#policy-changes">6. Changes to This Policy</a></li>
                                    <li><a href="#contact-us">7. Contact Us</a></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Section 1 -->
                        <section id="information-collected" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">1. Information We Collect</h4>
                            <p>We collect personal information you provide when registering, creating listings, or contacting other users. This may include:</p>
                            <ul>
                                <li>Name and email address</li>
                                <li>College or university information</li>
                                <li>Profile picture and bio information</li>
                                <li>Information about items you list for sale or exchange</li>
                                <li>Communication data between you and other users</li>
                                <li>Device and usage information when you access our platform</li>
                            </ul>
                        </section>
                        
                        <!-- Section 2 -->
                        <section id="information-use" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">2. How We Use Your Information</h4>
                            <p>We use your information to:</p>
                            <ul>
                                <li>Create and maintain your account</li>
                                <li>Provide and improve our services</li>
                                <li>Facilitate transactions between users</li>
                                <li>Send important notifications and updates</li>
                                <li>Protect against fraudulent or unauthorized activity</li>
                                <li>Personalize your experience on the platform</li>
                            </ul>
                        </section>
                        
                        <!-- Section 3 -->
                        <section id="information-sharing" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">3. Information Sharing</h4>
                            <p>We do not sell your personal information. We may share information:</p>
                            <ul>
                                <li>With other users as necessary to facilitate transactions</li>
                                <li>With service providers who help operate our platform</li>
                                <li>When required by law or to protect rights and safety</li>
                                <li>In the event of a business transfer or acquisition</li>
                            </ul>
                            <div class="alert alert-info">
                                <i class="bi bi-info-circle"></i> Your public profile and listings are visible to other StudentsMart users.
                            </div>
                        </section>
                        
                        <!-- Section 4 -->
                        <section id="data-security" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">4. Data Security</h4>
                            <p>We implement appropriate technical and organizational security measures to protect your information, including:</p>
                            <ul>
                                <li>Encryption of sensitive data</li>
                                <li>Regular security assessments</li>
                                <li>Restricted access to personal information</li>
                            </ul>
                            <p>While we strive to protect your information, no method of transmission over the Internet is 100% secure.</p>
                        </section>
                        
                        <!-- Section 5 -->
                        <section id="your-choices" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">5. Your Choices</h4>
                            <p>You have several rights regarding your personal information:</p>
                            <ul>
                                <li>Access, update, or correct your account information at any time</li>
                                <li>Request deletion of your account and personal data</li>
                                <li>Opt out of marketing communications</li>
                                <li>Control privacy settings for your profile and listings</li>
                            </ul>
                            <p>To exercise these rights, visit your account settings or contact our support team.</p>
                        </section>
                        
                        <!-- Section 6 -->
                        <section id="policy-changes" class="mb-4">
                            <h4 class="border-bottom pb-2 text-primary">6. Changes to This Policy</h4>
                            <p>We may update this policy periodically to reflect changes in our practices or legal requirements. We will notify you of significant changes through:</p>
                            <ul>
                                <li>Email notification (for registered users)</li>
                                <li>Prominent notice on our website or app</li>
                            </ul>
                            <p>Continued use of the service after changes constitutes acceptance of the modified policy.</p>
                        </section>
                        
                        <!-- Section 7 -->
                        <section id="contact-us">
                            <h4 class="border-bottom pb-2 text-primary">7. Contact Us</h4>
                            <p>If you have questions or concerns about this Privacy Policy or our data practices, please contact us at:</p>
                            <p><strong>Email:</strong> contactstudentsmart@gmail.com</p>
                            <p><strong>Address:</strong> StudentsMart, Inc., 123 Campus Way, College Town, ST 12345</p>
                        </section>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="FAQPageModal" tabindex="-1" aria-labelledby="FAQPageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="FAQPageModalLabel">Frequently Asked Questions</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 text-center">
                                <h2 class="mb-4">Frequently Asked Questions</h2>
                                <p class="lead mb-4">
                                    Find answers to common questions about StudentsMart.
                                </p>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="accordion" id="faqAccordion">
                                    <!-- FAQ Item 1 -->
                                    <div class="accordion-item mb-3 border-0 rounded overflow-hidden">
                                        <h2 class="accordion-header" id="headingOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                                How do I create an account?
                                            </button>
                                        </h2>
                                        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                Click on the "Register" button in the top right corner and fill out the registration form with your details. 
                                                You'll need to verify your email address to complete the registration.
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- FAQ Item 2 -->
                                    <div class="accordion-item mb-3 border-0 rounded overflow-hidden">
                                        <h2 class="accordion-header" id="headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                                Is there a fee for using StudentsMart?
                                            </button>
                                        </h2>
                                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                No, StudentsMart is completely free for students to use. We don't charge any fees for listing items or making purchases.
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- FAQ Item 3 -->
                                    <div class="accordion-item mb-3 border-0 rounded overflow-hidden">
                                        <h2 class="accordion-header" id="headingThree">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                                How do I contact a seller?
                                            </button>
                                        </h2>
                                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                Click on the "Contact Seller" button on any listing to send a message to the seller. 
                                                You can then continue the conversation in your messages.
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- FAQ Item 4 -->
                                    <div class="accordion-item mb-3 border-0 rounded overflow-hidden">
                                        <h2 class="accordion-header" id="headingFour">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                                                What should I do if I encounter a problem?
                                            </button>
                                        </h2>
                                        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                If you encounter any issues with a seller or listing, please use the "Report" button or contact our support team immediately.
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- FAQ Item 5 -->
                                    <div class="accordion-item mb-3 border-0 rounded overflow-hidden">
                                        <h2 class="accordion-header" id="headingFive">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
                                                Can I sell items from other colleges?
                                            </button>
                                        </h2>
                                        <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                Currently, StudentsMart is designed for transactions within the same college campus to ensure safety and convenience. 
                                                We may expand this feature in the future.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script>
        function showChatModal() {
            // Redirect to buy.html with a parameter to trigger chat
            window.location.href = '/buy.html?openChat=true';
        }
        // Global variables
        function showAboutUs() {
            const aboutModal = new bootstrap.Modal(document.getElementById('aboutUsModal'));
            aboutModal.show();
        }

        function showContactModal() {
            const contactModal = new bootstrap.Modal(document.getElementById('contactModal'));
            contactModal.show();
        }
        function ShowFAQPageModal(){
            const FAQPageModal = new bootstrap.Modal(document.getElementById('FAQPageModal'));
            FAQPageModal.show();

        }

        function showTermsModal() {
            const termsModal = new bootstrap.Modal(document.getElementById('termsModal'));
            termsModal.show();
        }

        function showPrivacyModal() {
            const privacyModal = new bootstrap.Modal(document.getElementById('privacyModal'));
            privacyModal.show();
        }

        // Contact form submission
        // Form validation script for contact form
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
           
            // Update every 30 seconds
            
            if (contactForm) {
                // Form submit event handler with validation
                contactForm.addEventListener('submit', function(event) {
                    event.preventDefault();
                    
                    // Check form validity using Bootstrap validation
                    if (!this.checkValidity()) {
                        event.stopPropagation();
                        this.classList.add('was-validated');
                        return;
                    }
                    
                    // Get submit button
                    const submitBtn = this.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    
                    // Disable button and show loading state
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
                    
                    // Get form data
                    const formData = {
                        name: document.getElementById('contactName').value,
                        email: document.getElementById('contactEmail').value,
                        subject: document.getElementById('contactSubject').value,
                        message: document.getElementById('contactMessage').value
                    };
                    
                    // Send email using fetch API to your server endpoint or a service like Formspree
                    fetch('https://formspree.io/f/myzwpvvp', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Success:', data);
                        
                        // Show success message
                        Swal.fire({
                            title: 'Message Sent!',
                            text: 'Thank you for contacting us. We will get back to you within 24 hours.',
                            icon: 'success',
                            confirmButtonColor: '#0d6efd',
                            timer: 3000,
                            timerProgressBar: true
                        });
                        
                        // Close modal
                        const contactModal = bootstrap.Modal.getInstance(document.getElementById('contactModal'));
                        if (contactModal) {
                            contactModal.hide();
                        }
                        
                        // Reset form validation state
                        this.classList.remove('was-validated');
                        
                        // Reset form inputs
                        this.reset();
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        
                        // Show error message
                        Swal.fire({
                            title: 'Message Not Sent',
                            text: 'Sorry, there was a problem sending your message. Please try again or use another contact method.',
                            icon: 'error',
                            confirmButtonColor: '#dc3545'
                        });
                    })
                    .finally(() => {
                        // Restore button state
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalText;
                    });
                });

                // Real-time validation feedback
                const formInputs = contactForm.querySelectorAll('input, textarea');
                formInputs.forEach(input => {
                    input.addEventListener('blur', function() {
                        // Check validity when input loses focus
                        if (this.checkValidity()) {
                            this.classList.remove('is-invalid');
                            this.classList.add('is-valid');
                        } else {
                            this.classList.remove('is-valid');
                            this.classList.add('is-invalid');
                        }
                    });
                });
            }
            
            // Check if we're on a buy page (Keep this functionality from your original code)
            
        });
        // Chat modal function - redirects to buy.html and triggers chat
        // In your profile dashboard
        function showChatModal() {
            // Redirect to buy.html with a parameter to trigger chat
            window.location.href = '/buy.html?openChat=true';
        }
        // College Change Request Status Check Function
        // Fixed loadUserData function
        function loadUserData() {
            if (!currentUser) return;
            
            console.log('Loading user data:', currentUser);
            
            // Check if elements exist before setting values
            const fullNameEl = document.getElementById('fullName');
            if (fullNameEl) fullNameEl.value = currentUser.full_name || '';
            
            const emailEl = document.getElementById('email');
            if (emailEl) emailEl.value = currentUser.email || '';
            
            const departmentEl = document.getElementById('department');
            if (departmentEl) departmentEl.value = currentUser.department || '';
            
            const yearEl = document.getElementById('year');
            if (yearEl) yearEl.value = currentUser.year || '1';
            
            const rollNumberEl = document.getElementById('rollNumber');
            if (rollNumberEl) rollNumberEl.value = currentUser.roll_number || '';
            
            const profileNameEl = document.getElementById('profileName');
            if (profileNameEl) profileNameEl.textContent = currentUser.full_name;
            
            const profileCollegeEl = document.getElementById('profileCollege');
            if (profileCollegeEl) profileCollegeEl.textContent = currentUser.college;
            
            const currentCollegeDisplayEl = document.getElementById('currentCollegeDisplay');
            if (currentCollegeDisplayEl) {
                currentCollegeDisplayEl.textContent = currentUser.college || '';
            }
            
            // Set profile picture if available
            const profileAvatarEl = document.getElementById('profileAvatar');
            if (profileAvatarEl && currentUser.profile_picture) {
                profileAvatarEl.src = `/static/${currentUser.profile_picture}?t=${Date.now()}`;
            }
        }

        // College Change Request Status Check Function - FIXED
        async function checkCollegeChangeStatus() {
            try {
                console.log('Checking college change status...');
                const response = await fetch('/api/college-change-status', {
                    credentials: 'same-origin'
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('College change status:', data);
                    
                    if (data.has_request) {
                        const statusElement = document.getElementById('requestStatus');
                        const statusMessage = document.getElementById('statusMessage');
                        const collegeChangeForm = document.getElementById('collegeChangeForm');
                        
                        if (statusElement && statusMessage) {
                            statusElement.classList.remove('d-none');
                            
                            switch(data.status) {
                                case 'pending':
                                    statusElement.className = 'alert alert-info';
                                    statusMessage.innerHTML = `
                                        <strong>Request Pending:</strong> Your college change request is under review. 
                                        You will receive an email once it's processed. This usually takes 1-2 business days.
                                    `;
                                    if (collegeChangeForm) {
                                        collegeChangeForm.style.display = 'none';
                                    }
                                    break;
                                case 'approved':
                                    statusElement.className = 'alert alert-success';
                                    statusMessage.innerHTML = `
                                        <strong>Request Approved:</strong> Your college has been changed from 
                                        ${data.old_college} to ${data.new_college} on ${new Date(data.reviewed_at).toLocaleDateString()}.
                                    `;
                                    if (collegeChangeForm) {
                                        collegeChangeForm.style.display = 'none';
                                    }
                                    // Update the displayed college
                                    const currentCollegeDisplay = document.getElementById('currentCollegeDisplay');
                                    if (currentCollegeDisplay) {
                                        currentCollegeDisplay.textContent = data.new_college;
                                    }
                                    const profileCollegeEl = document.getElementById('profileCollege');
                                    if (profileCollegeEl) {
                                        profileCollegeEl.textContent = data.new_college;
                                    }
                                    break;
                                case 'rejected':
                                    statusElement.className = 'alert alert-danger';
                                    statusMessage.innerHTML = `
                                        <strong>Request Not Approved:</strong> ${data.rejection_reason || 
                                        'Your college change request could not be approved.'}
                                    `;
                                    if (collegeChangeForm) {
                                        collegeChangeForm.style.display = 'block';
                                    }
                                    break;
                            }
                        }
                    } else {
                        // No request found, ensure form is visible
                        const statusElement = document.getElementById('requestStatus');
                        const collegeChangeForm = document.getElementById('collegeChangeForm');
                        
                        if (statusElement) {
                            statusElement.classList.add('d-none');
                        }
                        if (collegeChangeForm) {
                            collegeChangeForm.style.display = 'block';
                        }
                    }
                }
            } catch (error) {
                console.error('Error checking college change status:', error);
            }
        }

        // Setup college change request listeners - FIXED
        function setupCollegeChangeRequestListeners() {
            const collegeChangeForm = document.getElementById('collegeChangeForm');
            if (collegeChangeForm) {
                collegeChangeForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    if (!this.checkValidity()) {
                        e.stopPropagation();
                        this.classList.add('was-validated');
                        return;
                    }
                    
                    const submitBtn = document.getElementById('submitRequestBtn');
                    const originalText = submitBtn.innerHTML;
                    
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Submitting Request...';
                    
                    try {
                        const formData = new FormData(this);
                        
                        console.log('Submitting college change request...');
                        
                        const response = await fetch('/api/request-college-change', {
                            method: 'POST',
                            body: formData,
                            credentials: 'same-origin'
                        });
                        
                        const data = await response.json();
                        console.log('College change response:', data);
                        
                        if (response.ok) {
                            Swal.fire({
                                title: 'Request Submitted!',
                                html: `
                                    <p>${data.message}</p>
                                    <p><small>Your new college ID proof has been sent to our admin team for verification.</small></p>
                                `,
                                icon: 'success',
                                confirmButtonColor: '#2563eb'
                            }).then(() => {
                                // Refresh the status
                                checkCollegeChangeStatus();
                                this.reset();
                                this.classList.remove('was-validated');
                            });
                        } else {
                            Swal.fire({
                                title: 'Submission Failed',
                                text: data.error || 'Failed to submit college change request',
                                icon: 'error',
                                confirmButtonColor: '#dc3545'
                            });
                        }
                    } catch (error) {
                        console.error('College change request error:', error);
                        Swal.fire({
                            title: 'Error',
                            text: 'An error occurred while submitting your request. Please try again.',
                            icon: 'error',
                            confirmButtonColor: '#dc3545'
                        });
                    } finally {
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalText;
                    }
                });
            }

            // College tab click event to check status
            const collegeTab = document.getElementById('college-tab');
            if (collegeTab) {
                collegeTab.addEventListener('click', function() {
                    setTimeout(checkCollegeChangeStatus, 100); // Small delay to ensure tab is loaded
                });
            }
        }

        // Call this function in your existing DOMContentLoaded event listener
        // Add this line: setupCollegeChangeRequestListeners();
        function showAboutUs() {
            const aboutModal = new bootstrap.Modal(document.getElementById('aboutUsModal'));
            aboutModal.show();
        }

        function showContactModal() {
            const contactModal = new bootstrap.Modal(document.getElementById('contactModal'));
            contactModal.show();
        }
        function ShowFAQPageModal(){
            const FAQPageModal = new bootstrap.Modal(document.getElementById('FAQPageModal'));
            FAQPageModal.show();

        }

        function showTermsModal() {
            const termsModal = new bootstrap.Modal(document.getElementById('termsModal'));
            termsModal.show();
        }

        function showPrivacyModal() {
            const privacyModal = new bootstrap.Modal(document.getElementById('privacyModal'));
            privacyModal.show();
        }

        // Contact form submission
        // Form validation script for contact form
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
           
            // Update every 30 seconds
            
            if (contactForm) {
                // Form submit event handler with validation
                contactForm.addEventListener('submit', function(event) {
                    event.preventDefault();
                    
                    // Check form validity using Bootstrap validation
                    if (!this.checkValidity()) {
                        event.stopPropagation();
                        this.classList.add('was-validated');
                        return;
                    }
                    
                    // Get submit button
                    const submitBtn = this.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    
                    // Disable button and show loading state
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
                    
                    // Get form data
                    const formData = {
                        name: document.getElementById('contactName').value,
                        email: document.getElementById('contactEmail').value,
                        subject: document.getElementById('contactSubject').value,
                        message: document.getElementById('contactMessage').value
                    };
                    
                    // Send email using fetch API to your server endpoint or a service like Formspree
                    fetch('https://formspree.io/f/myzwpvvp', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Success:', data);
                        
                        // Show success message
                        Swal.fire({
                            title: 'Message Sent!',
                            text: 'Thank you for contacting us. We will get back to you within 24 hours.',
                            icon: 'success',
                            confirmButtonColor: '#0d6efd',
                            timer: 3000,
                            timerProgressBar: true
                        });
                        
                        // Close modal
                        const contactModal = bootstrap.Modal.getInstance(document.getElementById('contactModal'));
                        if (contactModal) {
                            contactModal.hide();
                        }
                        
                        // Reset form validation state
                        this.classList.remove('was-validated');
                        
                        // Reset form inputs
                        this.reset();
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        
                        // Show error message
                        Swal.fire({
                            title: 'Message Not Sent',
                            text: 'Sorry, there was a problem sending your message. Please try again or use another contact method.',
                            icon: 'error',
                            confirmButtonColor: '#dc3545'
                        });
                    })
                    .finally(() => {
                        // Restore button state
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalText;
                    });
                });

                // Real-time validation feedback
                const formInputs = contactForm.querySelectorAll('input, textarea');
                formInputs.forEach(input => {
                    input.addEventListener('blur', function() {
                        // Check validity when input loses focus
                        if (this.checkValidity()) {
                            this.classList.remove('is-invalid');
                            this.classList.add('is-valid');
                        } else {
                            this.classList.remove('is-valid');
                            this.classList.add('is-invalid');
                        }
                    });
                });
            }
            
            // Check if we're on a buy page (Keep this functionality from your original code)
            
            
        });
        // Global variables
        let currentUser = null;
        let collegesList = [];

        // Initialize the page
        
        // Check session status on page load (consistent with index.html)
        // Replace your checkSession function with this debug version
        
        // Update authentication UI (consistent with index.html)
        function updateAuthUI() {
            if (currentUser) {
                // Show user menu, hide auth buttons
                document.getElementById('userMenu').classList.remove('d-none');
                document.getElementById('authButtons').classList.add('d-none');
                document.getElementById('notificationMenu').classList.remove('d-none');
                document.getElementById('userName').textContent = currentUser.full_name;
                
                // Show admin menu if user is admin
                if (currentUser.is_admin) {
                    document.getElementById('adminMenu').classList.remove('d-none');
                    document.getElementById('reportsMenu').classList.remove('d-none');
                    
                    // Get report count
                    fetch('/admin/dashboard')
                        .then(response => response.json())
                        .then(data => {
                            const pendingReports = data.stats.pending_reports || 0;
                            document.getElementById('navReportsBadge').textContent = pendingReports;
                            
                            if (pendingReports > 0) {
                                document.getElementById('navReportsBadge').style.display = 'inline-block';
                            } else {
                                document.getElementById('navReportsBadge').style.display = 'none';
                            }
                        })
                        .catch(error => console.error('Error fetching report counts:', error));
                } else {
                    document.getElementById('adminMenu').classList.add('d-none');
                    document.getElementById('reportsMenu').classList.add('d-none');
                }
            } else {
                // Show auth buttons, hide user menu
                document.getElementById('userMenu').classList.add('d-none');
                document.getElementById('notificationMenu').classList.add('d-none');
                document.getElementById('authButtons').classList.remove('d-none');
                document.getElementById('adminMenu').classList.add('d-none');
                document.getElementById('reportsMenu').classList.add('d-none');
            }
        }

        // Logout function (consistent with index.html)
        async function logout() {
            try {
                await fetch('/logout', {
                    method: 'GET',
                    credentials: 'same-origin'
                });
                
                // Clear all admin-related localStorage items
                localStorage.removeItem('isAdmin');
                localStorage.removeItem('adminDashboardOpen');
                
                currentUser = null;
                updateAuthUI();
                
                // Show success message
                Swal.fire({
                    title: 'Success',
                    text: 'Logged out successfully',
                    icon: 'success',
                    timer: 2000,
                    showConfirmButton: false
                });
                
                // Redirect to home after logout
                setTimeout(() => {
                    window.location.href = '/';
                }, 2000);
            } catch (error) {
                console.error('Logout error:', error);
                Swal.fire('Error', 'Failed to logout', 'error');
            }
        }

        // Load user data into form
        // Replace your loadUserData function with this fixed version
       

        // Load colleges for dropdown
        async function loadColleges() {
            try {
                const response = await fetch('/api/colleges', {
                    credentials: 'same-origin'
                });
                
                if (!response.ok) {
                    console.error('Colleges API returned status:', response.status);
                    return;
                }
                
                const contentType = response.headers.get('content-type');
                if (!contentType || !contentType.includes('application/json')) {
                    console.error('Colleges API returned non-JSON response');
                    return;
                }
                
                const data = await response.json();
                
                if (data.results) {
                    collegesList = data.results;
                    const collegeSelect = document.getElementById('newCollege');
                    
                    // Clear existing options except the first one
                    while (collegeSelect.options.length > 1) {
                        collegeSelect.remove(1);
                    }
                    
                    // Add colleges to dropdown
                    collegesList.forEach(college => {
                        const option = document.createElement('option');
                        option.value = college.text;
                        option.textContent = college.text;
                        collegeSelect.appendChild(option);
                    });
                } else {
                    console.warn('No colleges data found in response');
                }
            } catch (error) {
                console.error('Error loading colleges:', error);
                // Add fallback colleges if API fails
                addFallbackColleges();
            }
        }

        // Add fallback colleges if API fails
        function addFallbackColleges() {
            const fallbackColleges = [
                'Indian Institute of Technology (IIT)',
                'Indian Institute of Science (IISc)',
                'National Institute of Technology (NIT)',
                'Indian Institute of Information Technology (IIIT)',
                'Delhi University',
                'Jawaharlal Nehru University',
                'University of Mumbai',
                'Anna University',
                'Osmania University',
                'Other'
            ];
            
            const collegeSelect = document.getElementById('newCollege');
            fallbackColleges.forEach(college => {
                const option = document.createElement('option');
                option.value = college;
                option.textContent = college;
                collegeSelect.appendChild(option);
            });
        }

        // Load user statistics
        async function loadUserStats() {
            try {
                // Load listings count
                const listingsResponse = await fetch('/api/my-listings');
                if (listingsResponse.ok) {
                    const listingsData = await listingsResponse.json();
                    document.getElementById('listingsCount').textContent = listingsData.listings.length;
                }
                
                // Load wishlist count
                const wishlistResponse = await fetch('/api/wishlist');
                if (wishlistResponse.ok) {
                    const wishlistData = await wishlistResponse.json();
                    document.getElementById('wishlistCount').textContent = wishlistData.items.length;
                }
            } catch (error) {
                console.error('Error loading user stats:', error);
            }
        }

        // Load login activity
        async function loadLoginActivity() {
            const activityData = [
                { date: new Date().toLocaleString(), device: 'Chrome, Windows', location: 'Hyderabad, IN', status: 'Success' },
                { date: new Date(Date.now() - 86400000).toLocaleString(), device: 'Firefox, Android', location: 'Bangalore, IN', status: 'Success' },
                { date: new Date(Date.now() - 172800000).toLocaleString(), device: 'Safari, macOS', location: 'Chennai, IN', status: 'Failed' }
            ];
            
            const tableBody = document.getElementById('loginActivity');
            tableBody.innerHTML = '';
            
            activityData.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.date}</td>
                    <td>${activity.device}</td>
                    <td>${activity.location}</td>
                    <td><span class="badge ${activity.status === 'Success' ? 'bg-success' : 'bg-danger'}">${activity.status}</span></td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load recent activity
        async function loadRecentActivity() {
            const activityData = [
                { 
                    type: 'listing', 
                    message: 'You created a new listing: "Engineering Mathematics Textbook"', 
                    time: '2 hours ago',
                    icon: 'fas fa-plus-circle text-success'
                },
                { 
                    type: 'message', 
                    message: 'You received a new message about your calculator listing', 
                    time: '1 day ago',
                    icon: 'fas fa-comment text-primary'
                },
                { 
                    type: 'wishlist', 
                    message: 'You added "Scientific Calculator" to your wishlist', 
                    time: '2 days ago',
                    icon: 'fas fa-heart text-danger'
                },
                { 
                    type: 'sale', 
                    message: 'Your textbook was marked as sold to Rahul Sharma', 
                    time: '3 days ago',
                    icon: 'fas fa-shopping-cart text-success'
                }
            ];
            
            const timeline = document.getElementById('activityTimeline');
            timeline.innerHTML = '';
            
            activityData.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="d-flex">
                        <div class="me-3">
                            <i class="${activity.icon} fa-lg"></i>
                        </div>
                        <div class="flex-grow-1">
                            <p class="mb-1">${activity.message}</p>
                            <small class="text-muted">${activity.time}</small>
                        </div>
                    </div>
                `;
                timeline.appendChild(activityItem);
            });
        }

        // Setup form event listeners
        function setupEventListeners() {
            // Profile form submission
            const profileForm = document.getElementById('profileForm');
            if (profileForm) {
                profileForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    await updateProfile();
                });
            }
            
            // Password form submission
            const passwordForm = document.getElementById('passwordForm');
            if (passwordForm) {
                passwordForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    await changePassword();
                });
            }
            
            // Profile picture change - FIXED VERSION
            const profilePictureInput = document.getElementById('profilePicture');
            if (profilePictureInput) {
                profilePictureInput.addEventListener('change', function(e) {
                    if (this.files && this.files[0]) {
                        const file = this.files[0];
                        
                        // Validate file size (5MB limit)
                        if (file.size > 5 * 1024 * 1024) {
                            Swal.fire('Error', 'File size must be less than 5MB', 'error');
                            this.value = '';
                            return;
                        }
                        
                        // Validate file type
                        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
                        if (!allowedTypes.includes(file.type)) {
                            Swal.fire('Error', 'Please upload only JPG, PNG, or GIF images', 'error');
                            this.value = '';
                            return;
                        }
                        
                        // Preview the image
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            document.getElementById('profileAvatar').src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                        
                        // Upload the image
                        uploadProfilePicture(file);
                    }
                });
            }
            
            // Setup college change request listeners
            setupCollegeChangeRequestListeners();
        }
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing profile dashboard...');
            checkSession();
            loadColleges();
            setupEventListeners();
        });

        // Fixed checkSession function with better error handling
        async function checkSession() {
            console.log('Starting session check...');
            try {
                const response = await fetch('/check-session', {
                    credentials: 'same-origin'
                });
                
                console.log('Session check response status:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('Session data:', data);
                    
                    if (data.authenticated) {
                        currentUser = data.user;
                        
                        // Clear any existing admin status in localStorage first
                        if (!currentUser.is_admin) {
                            localStorage.removeItem('isAdmin');
                            localStorage.removeItem('adminDashboardOpen');
                        } else {
                            localStorage.setItem('isAdmin', 'true');
                        }
                        
                        // Load user data and update UI
                        loadUserData();
                        updateAuthUI();
                        loadUserStats();
                        loadLoginActivity();
                        loadRecentActivity();
                        
                        // Show admin elements if user is admin
                        if (localStorage.getItem('isAdmin') === 'true' && currentUser.is_admin) {
                            const adminMenu = document.getElementById('adminMenu');
                            const reportsMenu = document.getElementById('reportsMenu');
                            if (adminMenu) adminMenu.classList.remove('d-none');
                            if (reportsMenu) reportsMenu.classList.remove('d-none');
                        }
                        
                        console.log('Session check completed successfully');
                    } else {
                        console.log('User not authenticated, redirecting...');
                        localStorage.removeItem('isAdmin');
                        localStorage.removeItem('adminDashboardOpen');
                        window.location.href = '/';
                    }
                } else {
                    console.log('Session check failed with status:', response.status);
                    window.location.href = '/';
                }
            } catch (error) {
                console.error('Session check failed:', error);
                // Show error message and redirect after delay
                Swal.fire({
                    title: 'Connection Error',
                    text: 'Unable to verify your session. Please try logging in again.',
                    icon: 'error',
                    timer: 3000,
                    showConfirmButton: false
                }).then(() => {
                    window.location.href = '/';
                });
            }
        }

        // Update profile information
        async function updateProfile() {
            try {
                console.log('Starting profile update...');
                
                const formData = new FormData();
                formData.append('full_name', document.getElementById('fullName').value);
                formData.append('department', document.getElementById('department').value);
                formData.append('year', document.getElementById('year').value);
                formData.append('roll_number', document.getElementById('rollNumber').value);
                
                console.log('Form data prepared:', {
                    full_name: document.getElementById('fullName').value,
                    department: document.getElementById('department').value,
                    year: document.getElementById('year').value,
                    roll_number: document.getElementById('rollNumber').value
                });
                
                const response = await fetch('/api/update-profile', {
                    method: 'POST',
                    body: formData,
                    credentials: 'same-origin'
                });
                
                const data = await response.json();
                console.log('Profile update response:', data);
                
                if (response.ok) {
                    Swal.fire('Success', 'Profile updated successfully!', 'success');
                    
                    // Update the current user object
                    if (data.user) {
                        currentUser = { ...currentUser, ...data.user };
                        
                        // Update displayed information immediately
                        document.getElementById('profileName').textContent = data.user.full_name;
                        document.getElementById('userName').textContent = data.user.full_name;
                        
                        // Update form fields to reflect saved values
                        document.getElementById('fullName').value = data.user.full_name;
                        document.getElementById('department').value = data.user.department;
                        document.getElementById('year').value = data.user.year;
                        document.getElementById('rollNumber').value = data.user.roll_number || '';
                    }
                } else {
                    console.error('Profile update failed:', data);
                    Swal.fire('Error', data.error || 'Failed to update profile', 'error');
                }
            } catch (error) {
                console.error('Profile update error:', error);
                Swal.fire('Error', 'An error occurred while updating your profile', 'error');
            }
        }

        // Upload profile picture - FIXED VERSION
        async function uploadProfilePicture(file) {
            try {
                console.log('Starting profile picture upload...');
                
                const formData = new FormData();
                formData.append('profile_picture', file);
                
                const response = await fetch('/api/upload-profile-picture', {
                    method: 'POST',
                    body: formData,
                    credentials: 'same-origin'
                });
                
                const data = await response.json();
                console.log('Profile picture upload response:', data);
                
                if (response.ok) {
                    // Update the user object with the new profile picture URL
                    currentUser.profile_picture = data.profile_picture;
                    
                    // Update the avatar image with the new URL - FIXED PATH
                    const profileAvatar = document.getElementById('profileAvatar');
                    profileAvatar.src = `/static/${data.profile_picture}`;
                    
                    // Force image reload by adding timestamp
                    profileAvatar.src = `/static/${data.profile_picture}?t=${Date.now()}`;
                    
                    // Show success message
                    Swal.fire('Success', 'Profile picture updated successfully!', 'success');
                } else {
                    console.error('Profile picture upload failed:', data.error);
                    Swal.fire('Error', data.error || 'Failed to upload profile picture', 'error');
                    
                    // Revert to the previous image
                    revertProfilePicture();
                }
            } catch (error) {
                console.error('Profile picture upload error:', error);
                Swal.fire('Error', 'An error occurred while uploading your profile picture', 'error');
                
                // Revert to the previous image
                revertProfilePicture();
            }
        }


        // Change college
        async function changeCollege() {
            const newCollege = document.getElementById('newCollege').value;
            
            if (!newCollege) {
                Swal.fire('Error', 'Please select a college', 'error');
                return;
            }
            
            if (newCollege === currentUser.college) {
                Swal.fire('Info', 'You selected the same college you are currently in', 'info');
                return;
            }
            
            try {
                const response = await fetch('/api/change-college', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ college: newCollege }),
                    credentials: 'same-origin'
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    Swal.fire('Success', 'College changed successfully!', 'success').then(() => {
                        // Update the displayed college
                        document.getElementById('currentCollege').value = newCollege;
                        document.getElementById('profileCollege').textContent = newCollege;
                        currentUser.college = newCollege;
                        
                        // Reset the form
                        document.getElementById('collegeForm').reset();
                        document.getElementById('understandConsequences').checked = false;
                        document.getElementById('changeCollegeBtn').disabled = true;
                    });
                } else {
                    Swal.fire('Error', data.error || 'Failed to change college', 'error');
                }
            } catch (error) {
                console.error('College change error:', error);
                Swal.fire('Error', 'An error occurred while changing your college', 'error');
            }
        }
        // College Change Request Functionality

        // Change password
        async function changePassword() {
            const form = document.getElementById('passwordForm');
            const formData = new FormData(form);
            
            // Check if passwords match
            if (formData.get('new_password') !== formData.get('confirm_password')) {
                Swal.fire('Error', 'New passwords do not match', 'error');
                return;
            }
            
            try {
                const response = await fetch('/api/change-password', {
                    method: 'POST',
                    body: formData,
                    credentials: 'same-origin'
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    Swal.fire('Success', 'Password changed successfully!', 'success').then(() => {
                        form.reset();
                    });
                } else {
                    Swal.fire('Error', data.error || 'Failed to change password', 'error');
                }
            } catch (error) {
                console.error('Password change error:', error);
                Swal.fire('Error', 'An error occurred while changing your password', 'error');
            }
        }

        // Placeholder functions for navigation links (implement these as needed)
        function showAdminDashboard(section) {
            console.log('Admin dashboard clicked:', section);
            // Implement admin dashboard functionality
        }

        async function showMyListings() {
            if (!currentUser) {
                showAlert('Please Login', 'You need to login to view your listings', 'warning');
                return;
            }
            // Open the dedicated my-listings page
            window.open('/my-listings.html', '_blank');
        }

        // Updated Wishlist function  
        async function showWishlist() {
            if (!currentUser) {
                showAlert('Please Login', 'You need to login to view your wishlist', 'warning');
                return;
            }
            // Open the dedicated my-wishlist page
            window.open('/my-wishlist.html', '_blank');
        }

        function showLoginModal() {
            console.log('Login modal clicked');
            // Implement login modal functionality
        }

        function showRegisterModal() {
            console.log('Register modal clicked');
            // Implement register modal functionality
        }
        function toggleMobileMenu() {
            const toggler = document.querySelector('.navbar-toggler');
            const navbarCollapse = document.getElementById('navbarNav');
            const backdrop = document.querySelector('.mobile-menu-backdrop');
            
            toggler.classList.toggle('active');
            navbarCollapse.classList.toggle('show');
            backdrop.classList.toggle('show');
            document.body.classList.toggle('menu-open');
        }

        function closeMobileMenu() {
            const toggler = document.querySelector('.navbar-toggler');
            const navbarCollapse = document.getElementById('navbarNav');
            const backdrop = document.querySelector('.mobile-menu-backdrop');
            
            toggler.classList.remove('active');
            navbarCollapse.classList.remove('show');
            backdrop.classList.remove('show');
            document.body.classList.remove('menu-open');
        }

        // Initialize mobile menu
        document.addEventListener('DOMContentLoaded', function() {
            // Create backdrop
            if (!document.querySelector('.mobile-menu-backdrop')) {
                const backdrop = document.createElement('div');
                backdrop.className = 'mobile-menu-backdrop';
                backdrop.onclick = closeMobileMenu;
                document.body.appendChild(backdrop);
            }
            
            // Close menu on link clicks
            document.querySelectorAll('#navbarNav .nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    if (!this.classList.contains('dropdown-toggle')) {
                        setTimeout(closeMobileMenu, 300);
                    }
                });
            });
            
            // Update mobile user info
            updateMobileUserInfo();
        });

        // Update mobile menu based on login status
        function updateMobileUserInfo() {
            const userName = document.getElementById('userName')?.textContent;
            const mobileUserSection = document.getElementById('mobileUserSection');
            const mobileAuthSection = document.getElementById('mobileAuthSection');
            
            if (userName && userName.trim()) {
                // User is logged in
                mobileUserSection?.classList.remove('d-none');
                if (mobileAuthSection) mobileAuthSection.style.display = 'none';
                
                document.getElementById('mobileUserName').textContent = userName;
                document.getElementById('mobileUserAvatar').textContent = userName.charAt(0).toUpperCase();
            } else {
                // User is logged out
                mobileUserSection?.classList.add('d-none');
                if (mobileAuthSection) mobileAuthSection.style.display = 'flex';
            }
        }
    </script>
</body>
</html>